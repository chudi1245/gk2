#!/usr/bin/perl
#**************************************************************
# 程序名称：金手指斜边查询
# 程序版本：v1.0
# 程序功能描述: 
# 开发人员：莫志兵
# 创建时间：2012-3-30
#************************************************************** 
use strict;
use Win32;
use FBI;
use Encode;
use encoding 'euc_cn';
use Win32::API;

kysy();
#******************************************
my %gold=(	
"0.8"=>{"20"=>"0.30~0.60","25"=>"0.30~0.50","30"=>"0.25~0.45","35"=>"0.25~0.40","45"=>"0.20~0.30","60"=>"0.15~0.20",},  
"1.0"=>{"20"=>"0.30~0.85","25"=>"0.30~0.70","30"=>"0.25~0.60","35"=>"0.25~0.50","45"=>"0.20~0.40","60"=>"0.15~0.25",}, 		
"1.2"=>{"20"=>"0.30~1.05","25"=>"0.30~0.85","30"=>"0.25~0.70","35"=>"0.25~0.60","45"=>"0.20~0.45","60"=>"0.15~0.30",}, 
"1.6"=>{"20"=>"0.30~1.45","25"=>"0.30~1.20","30"=>"0.25~1.00","35"=>"0.25~0.85","45"=>"0.20~0.60","60"=>"0.15~0.40",}, 
"1.8"=>{"20"=>"0.30~1.65","25"=>"0.30~1.35","30"=>"0.25~1.15","35"=>"0.25~0.95","45"=>"0.20~0.70","60"=>"0.15~0.45",}, 
"2.0"=>{"20"=>"0.30~1.85","25"=>"0.30~1.50","30"=>"0.25~1.25","35"=>"0.25~1.05","45"=>"0.20~0.75","60"=>"0.15~0.50",}, 
"2.4"=>{"20"=>"0.30~2.55","25"=>"0.30~1.85","30"=>"0.25~1.55","35"=>"0.25~1.30","45"=>"0.20~0.95","60"=>"0.15~0.55",}, 
"3.0"=>{"20"=>"0.30~2.85","25"=>"0.30~2.30","30"=>"0.25~1.95","35"=>"0.25~1.60","45"=>"0.20~1.20","60"=>"0.15~0.70",}, 
);

##print $gold{0.8}{20};

my $thick=1.6;

my $mw = MainWindow->new;

$mw->geometry("+400+250");
$mw->update;
Win32::API->new("user32","SetWindowPos",[qw(N N N N N N N)],'N')->Call(hex($mw->frame()),-1,0,0,0,0,3);

$mw->title("金手指斜边查询:");
$mw->Label(-text=>"板厚:",-font =>[-size => 12],-width=>10)           ->grid(-column=>0,-row=>0);

##$mw->Entry(-textvariable=>\$thick,-font =>[-size => 14], -width=>8)   ->grid(-column=>1,-row=>0)->focus;

$mw->Optionmenu(-options =>[qw\0.8 1.0 1.2 1.6 1.8 2.0 2.4 3.0\],-font =>[-size => 14],-textvariable=>\$thick,-width=>10)->grid(-column=>1,-row=>0);


$mw->Label(-text=>"角度:",-font =>[-size => 12],-width=>10)           ->grid(-column=>0,-row=>1);
$mw->Button(-text=>'斜边高度',-command=>\&query,-font =>[-size =>14],-width=>12)->grid(-column=>1,-row=>1,-sticky=>"ew",);


MainLoop;

sub query {
    my ($row,$anger,)=(2,);	
	foreach $anger ("20" ,"25" ,"30" ,"35", "45", "60") {
#	$mw->Label(-text=>"$thick",-font =>[-size => 16],-width=>8)      ->grid(-column=>0,-row=>$row);
	$mw->Label(-text=>"$anger.度",-font =>[-size => 14],-width=>8)      ->grid(-column=>0,-row=>$row);
	$mw->Label(-text=>"$gold{$thick}{$anger}mm",-font =>[-size => 14],-width=>14)->grid(-column=>1,-row=>$row);

		$row++;
	}

}



=h

##$mw->Label(-text=>"板厚:",-font =>[-size => 12],-width=>10)         ->grid(-column=>0,-row=>1);

##$mw->Label(-text=>"斜边范围:",-font =>[-size => 12],-width=>10)       ->grid(-column=>1,-row=>1);

